//-------------------------------------------------------------------------------------------------
// File : App.h
// Desc : Sample Application
// Copyright(c) Project Asura. All right reserved.
//-------------------------------------------------------------------------------------------------

#ifndef __APP_H__
#define __APP_H__

//-------------------------------------------------------------------------------------------------
// Includes
//-------------------------------------------------------------------------------------------------
#include <Windows.h>
#include <d2d1_1.h>
#include <dwrite.h>


///////////////////////////////////////////////////////////////////////////////////////////////////
// App class
///////////////////////////////////////////////////////////////////////////////////////////////////
class App
{
    //=============================================================================================
    // list of friend classes and methods.
    //=============================================================================================
    /* NOTHING */

public:
    //=============================================================================================
    // public variables.
    //=============================================================================================
    /* NOTHING */

    //=============================================================================================
    // public methods.
    //=============================================================================================
    App();
    ~App();
    void Run();

protected:
    //=============================================================================================
    // protected varibales.
    //=============================================================================================
    /* NOTHING */

    //=============================================================================================
    // protected methods.
    //=============================================================================================
    void OnResize( UINT width, UINT height );
    void OnRender();
    bool OnInitD2D();
    void OnTermD2D();
    bool OnInitWnd();
    void OnTermWnd();

private:
    //=============================================================================================
    // private variables.
    //=============================================================================================
    HWND                    m_hWnd;
    HINSTANCE               m_hInstance;
    UINT                    m_Width;
    UINT                    m_Height;
    ID2D1Factory*           m_pD2DFactory;
    IDWriteFactory*         m_pDWriteFactory;
    ID2D1HwndRenderTarget*  m_pRenderTarget;
    IDWriteTextFormat*      m_pTextFormat;
    ID2D1SolidColorBrush*   m_pBrush;

    //=============================================================================================
    // private methods.
    //=============================================================================================
    bool Init();
    void Term();
    void MainLoop();

    static LRESULT CALLBACK MsgProc( HWND hWnd, UINT uMsg, WPARAM wp, LPARAM lp );
};

#endif//__APP_H__
